import { platform } from "os";
import { readFileSync, existsSync } from "fs";
export const isUbuntu = () => {
    if (platform() !== "linux")
        return false;
    const osReleasePath = "/etc/os-release";
    if (!existsSync(osReleasePath))
        return false;
    try {
        const content = readFileSync(osReleasePath, "utf8").toLowerCase();
        return content.includes("id=ubuntu");
    }
    catch {
        return false;
    }
};
export const getOS = () => {
    const osPlatform = platform();
    switch (osPlatform) {
        case "darwin":
            return "MacOS";
        case "linux":
            if (isUbuntu()) {
                return "Ubuntu";
            }
            else {
                return "Linux";
            }
        case "win32":
            return "Windows";
        default:
            throw new Error(`Unsupported OS ${osPlatform}`);
    }
};
//# sourceMappingURL=getUserOs.js.map