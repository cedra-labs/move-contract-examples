{"version":3,"sources":["../../src/features/cedraSignTransaction.ts"],"sourcesContent":["// Copyright Â© Cedra Foundation\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountAddress,\n  AccountAuthenticator,\n  AnyRawTransaction,\n  InputGenerateTransactionPayloadData,\n  Network,\n  PublicKey,\n  TransactionPayload\n} from '@cedra-labs/ts-sdk'\nimport { UserResponse } from '../misc'\n\n// region Feature definition\n\n/** Name of the feature. */\nexport const CedraSignTransactionNamespace = 'cedra:signTransaction'\n\nexport type CedraSignTransactionFeatureV1_0 = {\n  [CedraSignTransactionNamespace]: {\n    version: '1.0.0',\n    signTransaction: CedraSignTransactionMethod\n  }\n}\n\nexport type CedraSignTransactionFeatureV1_1 = {\n  [CedraSignTransactionNamespace]: {\n    version: '1.1'\n    signTransaction: CedraSignTransactionMethod & CedraSignTransactionMethodV1_1\n  }\n}\n\n/**\n * A Wallet Standard feature for signing an Cedra transaction, and returning the\n * account authenticator.\n */\nexport type CedraSignTransactionFeature =\n  CedraSignTransactionFeatureV1_0 | CedraSignTransactionFeatureV1_1;\n\n// endregion\n\n// region V1.0\n\nexport type CedraSignTransactionOutput = AccountAuthenticator;\n\nexport type CedraSignTransactionMethod = (\n  transaction: AnyRawTransaction,\n  asFeePayer?: boolean\n) => Promise<UserResponse<CedraSignTransactionOutput>>\n\n// endregion\n\n// region V1.1\n\nexport interface AccountInput {\n  address: AccountAddress;\n  publicKey?: PublicKey;\n}\n\nexport interface CedraSignTransactionInputV1_1 {\n  expirationSecondsFromNow?: number; // defaults to 30 seconds (depends on wallet)\n  expirationTimestamp?: number;\n  feePayer?: AccountInput; // defaults to no fee payer\n  gasUnitPrice?: number; // defaults to estimated gas unit price\n  maxGasAmount?: number; // defaults to simulation result with fuzz factor\n  network?: Network; // defaults to active network\n  payload: TransactionPayload | InputGenerateTransactionPayloadData;\n  secondarySigners?: AccountInput[]; // defaults to no secondary signers\n  sender?: AccountInput; // defaulting to active account (if applicable)\n  sequenceNumber?: number | bigint; // defaulting to sender's sequence number\n  signerAddress?: AccountAddress;\n}\n\nexport interface CedraSignTransactionOutputV1_1 {\n  authenticator: AccountAuthenticator;\n  rawTransaction: AnyRawTransaction;\n}\n\nexport type CedraSignTransactionMethodV1_1 = (\n  input: CedraSignTransactionInputV1_1\n) => Promise<UserResponse<CedraSignTransactionOutputV1_1>>;\n"],"mappings":"AAiBO,IAAMA,EAAgC","names":["CedraSignTransactionNamespace"]}